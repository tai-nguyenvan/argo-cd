apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: postgres-creds
  namespace: development
spec:
  encryptedData:
    # Replace the values below with kubeseal output, e.g.:
    # kubectl create secret generic postgres-creds --dry-run=client --from-literal=POSTGRES_USER=admin \
    #   --from-literal=POSTGRES_PASSWORD='pass@123' --from-literal=POSTGRES_DB=postgres -o yaml \
    # | kubeseal --format yaml > sealedsecret.yaml
    POSTGRES_USER: AgB...PLACEHOLDER_BASE64SEALED
    POSTGRES_PASSWORD: AgB...PLACEHOLDER_BASE64SEALED
    POSTGRES_DB: AgB...PLACEHOLDER_BASE64SEALED
  template:
    metadata:
      name: postgres-creds
      namespace: development

# NOTE:
# 1) This is an example SealedSecret manifest. To create a real one, run the kubeseal
#    command on your machine that has the SealedSecrets controller public key and
#    kubectl credentials for the cluster. Example:
#
# kubectl create secret generic postgres-creds \
#   --dry-run=client --from-literal=POSTGRES_USER=admin \
#   --from-literal=POSTGRES_PASSWORD='pass@123' \
#   --from-literal=POSTGRES_DB=postgres -o yaml \
#   | kubeseal --controller-name=sealed-secrets --controller-namespace=argocd --format yaml > postgres-sealedsecret.yaml
#
# 2) Commit the sealed manifest to Git; the SealedSecrets controller in-cluster will
#    decrypt it into a Kubernetes Secret at apply time. Do NOT commit the plain secret.

